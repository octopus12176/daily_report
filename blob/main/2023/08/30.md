## 2023/8/30（水）

## 取り組んだ課題

- タイピング練習
- プロを目指す人のための Ruby 入門を読む

## わかったこと

- プロを目指す人のための Ruby 入門を読む

## その他の基礎知識

- `ガベージコレクション`：使用されなくなったオブジェクトを回収し、自動的にメモリを開放する仕組み。そのため、プログラマがメモリ管理を意識する必要がない。
- `エイリアスメソッド`：Ruby には全く同じメソッドに複数の名前が付いている場合がよくある。例えば、String クラスの length メソッドと size メソッドは名前が異なるだけでどちらも全く同じメソッドである。

```ruby
# lengthもsizeも、どちらも文字数を返す
'hello'.length #=> 5
'hello'.size #=> 5
```

- Ruby では他の言語では文と見なされるような要素が式になっていることが多い。ここでは式と文の違いを「値を返し、結果を変数に代入できるものが式」「値を返さず、変数に代入しようとするとエラーになるものが文」。

```ruby
 # if文が値を返すので変数に代入できる
a =
	if true
		'真です'
	else
		'偽です'
	end
#=> "真です"

# メソッドの定義も実は値(シンボル)を返している
b = def foo; end
b #=> :foo
```

- nil と true と false は疑似変数と呼ばれる特殊な変数。この他にも次のような疑似変数がある。疑似変数は変数と同じように値を読み出すことができるが、代入しようとするろエラーが発生する。

```ruby
# オブジェクト自身
self

# 現在のソースファイル名
__FILE__

# 現在のソースファイル中の行番号
__LINE__

# 現在のソースファイルのスクリプトエンコーディング
__ENCODING__
```

- Ruby の変数にはオブジェクトそのものではなく、オブジェクトへの参照が格納されている。変数を他の変数に代入したり、メソッドの引数として渡したりすると、新しい変数やメソッドの引数は元の変数と同じオブジェクトを参照する。異なる変数が同じオブジェクトを参照しているかどうかは`object_id`メソッドを使うと分かる。`object_id`メソッドが同じなら同じオブジェクトを参照している。

```ruby
# aとbはどちらも同じ文字列だが、オブジェクトとしては別物
a = 'hello'
b = 'hello'
a.object_id #=> 70182231931400
b.object_id #=> 70182236321960

# cにbを代入する。bとcはどちらも同じオブジェクト
c = b
c.object_id  #=> 70182236321960

# メソッドの引数にcを渡す。引数として受け取ったdはb、cと同じオブジェクトを参照している。
def m(d)
	d.object_id
end     #=> 70182236321960

# equal?メソッドを使って同じオブジェクトかどうか確認しても良い(trueならオブジェクト)
b.equal?(b) #=> false
b.equal?(c) #=> true
```

- Ruby では最初から数多くのライブラリが標準ライブラリとして用意されている。その中でも特に利用できる頻度が高いライブラリは組み込みライブラリとして提供されている。String クラスや Integer クラスは組み込みライブラリである。一方、標準ライブラリではあるものの、組み込みライブラリではないライブラリもあり、例えば日付を扱う Date クラスがそうである。
- 組み込みライブラリでない標準ライブラリや gem を利用する場合は、明示的にそのライブラリを読み込む必要がある。ライブラリを読み込む場合は「require ライブラリ名」構文を使用する。

```ruby
# Dateクラスは組み込みライブラリではないので、そのままでは使用できない
Date.today #=> uninitialized constant over (NameError)

# dateライブラリを読み込むとDateクラスが使えるようになる
require 'date'
Date.today #=> #<Date: 2021-02-27 ((2459273j,0s,0n),+0s,2299161j)>
```

- 一方で自分で作成した Ruby プログラム(独自のクラス定義など)を読み込む場合は`require_relative`を使います。`require_relative`では自ファイルからの相対パスで読み込むファイルを指定する。

## 感じたこと

- プロを目指す人のための Ruby 入門を読む
  - Java では自分で作成したプログラムも標準ライブラリも import 文で読み込むので、標準ライブラリと自分で作成した Ruby プログラムで構文が変化するのは Ruby の特徴だなと感じた。

## 次やること

- プロを目指す人のための Ruby 入門を読む

## 勉強時間

- Today: 1.5h
- Total: 250.0h
